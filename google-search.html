<script>
    let clickCount = 0;
    const logo = document.getElementById('hplogo');
    const searchBtn = document.getElementById('search-btn');
    const searchBox = document.getElementById('searchbox');

    // 1. FUNCTION TO SEARCH
    function doSearch() {
        const query = searchBox.value;
        if (query !== "") {
            // This takes you to the real search results immediately
            window.location.href = "https://www.google.com/search?q=" + encodeURIComponent(query);
        }
    }

    // 2. FUNCTION FOR EASTER EGG
    function countForEgg() {
        clickCount++;
        if (clickCount === 5) {
            // Transform the logo
            logo.src = "https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png";
            logo.style.transform = "rotate(360deg) scale(1.1)";
            searchBtn.style.backgroundColor = "#4285f4";
            searchBtn.style.color = "white";
            alert("Easter Egg Found: The logo has evolved!");
        }
    }

    // 3. EVENT LISTENERS
    searchBtn.addEventListener('click', function() {
        countForEgg(); // Count the click for the secret
        
        // Only search if there is actually text in the box
        if (searchBox.value !== "") {
            // Small delay so you can see the 5th click transform before the page leaves
            setTimeout(doSearch, 500); 
        }
    });

    // Let them press "Enter" to search normally
    searchBox.addEventListener("keypress", function(e) {
        if (e.key === "Enter") {
            doSearch();
        }
    });
</script>
